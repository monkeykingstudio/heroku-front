<div class="row">
  <div *ngIf='(colony$ | async) as colony; else loading' class="colony-container col-sm-12">

    <div id="colonyRef" class="colony">
      <app-colony-header [colony]='colony'></app-colony-header>
      <app-colony-species-banner [breedSheet]='breedSheet'></app-colony-species-banner>
      <div class="body row">
        <div class="col-sm-12 col-md-6 col-lg-3">
          <div class="mb-4 chart-box">
            <div class="chart-wrapper">
              <canvas baseChart
              [datasets]="barChartData"
              [labels]="barChartLabels"
              [options]="barChartOptions"
              [plugins]="barChartPlugins"
              [legend]="barChartLegend"
              [chartType]="barChartType"
              [colors]="colors">
              </canvas>
            </div>

          </div>
          <app-counter [colonyId]='colony.id' [counter]='colony.counter'></app-counter>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-6">
          <app-task-manager [colonyId]='colony.id'></app-task-manager>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-3">
          <div class="d-flex flex-column">
            <span style="font-weight:bold">Diapause module <span style="color: #62d744;">(soon)</span></span>
            <span style="font-weight:bold">Feeding module <span style="color: #62d744;">(soon)</span></span>
            <span style="font-weight:bold">Observation module <span style="color: #62d744;">(soon)</span></span>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="spinner-container">
    <div class="loading"></div>
  </div>
</ng-template>
